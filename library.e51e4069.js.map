{"mappings":"gfACAA,EAAA,S,sBCDA,IAAAC,EAAAD,EAAA,S,aCK8C,IAAxCE,EAAO,CACXC,iBAAkBC,SAASC,cAAc,uBACzCC,gBAAiBF,SAASC,cAAc,6BAGpCE,EAAiBC,KAAKC,MAAMC,aAAaC,QAAQ,YAuBvD,SAASC,IACPV,EAAKI,gBAAgBO,UAAa,6QAUlCX,EAAKI,gBAAgBQ,UAAUC,IAAI,uB,CAhCjCR,GACEA,EAAeS,QACjBd,EAAKC,iBAAiBU,UAAqCN,EDL1DU,KACC,SAAAC,G,IAAGC,EAASD,EAATC,UAAWC,EAAEF,EAAFE,GAAIC,EAAWH,EAAXG,YAAaC,EAAYJ,EAAZI,aAAcC,EAAKL,EAALK,MAAOC,EAAYN,EAAZM,aAC5CC,EAAOH,EAAaI,MAAM,EAAG,GAC7BC,EAAaN,EACf,kCAA8CO,OAAZP,GAClC,+BACEQ,GAAoB,EAAA5B,EAAA6B,2BAA0BN,GAC9CO,GAAS,EAAAC,EAAAC,qBAAoBd,GAAWe,KAAK,MACnD,MAAO,sJAOsCN,OAJxBD,EAAW,oLAMUC,OAFGR,EAAG,gHAGRQ,OADEL,EAAM,yDACIK,OAAZG,EAAO,OAEGH,OAFEH,EAAK,gGAEWG,OAAlBC,EAAkB,iH,IAOvEK,KAAK,ICrBNhC,EAAKC,iBAAiBgC,mBACpB,WACC,2JAQHjC,EAAKC,iBAAiBW,UAAUC,IAAI,yBAKtCH,I,YFtBF,E,WAAAwB,iBAEyBhC,SAASiC,iBAAiB,yBAClCC,SAAQ,SAAAC,G,OAAKA,EAAEzB,UAAUC,IAAI,a","sources":["src/library.js","src/js/functions/generateMovieCardsMarkup.js","src/js/list-library.js"],"sourcesContent":["// Library js\nimport './js/header';\nimport './js/mobile-menu';\nimport './js/hero';\nimport './js/list-library';\nimport './js/footer';\nimport { setGenresToSS } from './js/functions/setGenresToSS';\n\nsetGenresToSS();\n\nconst headerLibCurrent = document.querySelectorAll('[data-header-library]');\nheaderLibCurrent.forEach(i => i.classList.add('js-current'));\n","import { generateRatingStarsMarkup } from './generateRatingStarsMarkup';\nimport { getGenresByGenresId } from './getGenresByGenresId';\n/**\n *\n * @param {Array} arr\n * @returns {String} markup for movie cards. You should insert resul inside <ul> by innerHTML\n */\nfunction generateMovieCardsMarkup(arr) {\n  const markup = arr\n    .map(\n      ({ genre_ids, id, poster_path, release_date, title, vote_average }) => {\n        const year = release_date.slice(0, 4);\n        const posterPath = poster_path\n          ? `https://image.tmdb.org/t/p/w500${poster_path}`\n          : './images/image-not-found.jpg';\n        const ratingStarsMurkup = generateRatingStarsMarkup(vote_average);\n        const genres = getGenresByGenresId(genre_ids).join(', ');\n        return `<li class=\"cards-item\">\n                  <button type=\"button\" class=\"btn cards-item-btn\">\n                    <img\n                      src=\"${posterPath}\"\n                      alt=\"Poster of the movie\"\n                      class=\"movie-card-poster\"\n                    />\n                    <div class=\"cards-content\" id=\"${id}\">\n                      <div class=\"cards-text-content\">\n                        <h3 class=\"cards-title\">${title}</h3>\n                        <p class=\"cards-text\">${genres} | ${year}</p>\n                      </div>\n                      <div class=\"rating-stars-wrapper\">${ratingStarsMurkup}\n                      </div>\n                    </div>\n                  </button>\n                </li>`;\n      }\n    )\n    .join('');\n\n  return markup;\n}\n\nexport { generateMovieCardsMarkup };\n","// Library Page - Library list section\nimport { generateMovieCardsMarkup } from './functions/generateMovieCardsMarkup';\n\n//=========================Достаем данные с Локал сторедж и рисуем блок с фильмами========================\n\nconst refs = {\n  libraryMovieList: document.querySelector('[data-library-list]'),\n  libraryOppsText: document.querySelector('[data-library-oops-text]'),\n};\n\nconst filmsInLibrary = JSON.parse(localStorage.getItem('library'));\n\nif (filmsInLibrary) {\n  if (filmsInLibrary.length) {\n    refs.libraryMovieList.innerHTML = generateMovieCardsMarkup(filmsInLibrary);\n    refs.libraryMovieList.insertAdjacentHTML(\n      'afterend',\n      `\n  <div class=\"btn-list-search\">\n      <button type=\"button\" class=\"btn btn-filled\" data-load-more-btn>\n      Load more\n      </button>\n    </div>`\n    );\n\n    refs.libraryMovieList.classList.add('movie-cards-list-css');\n  } else {\n    libraryOppsTextRender();\n  }\n} else {\n  libraryOppsTextRender();\n}\n\nfunction libraryOppsTextRender() {\n  refs.libraryOppsText.innerHTML = `\n      <p>OOPS...<br>\n      We are very sorry!<br>\n      You don’t have any movies at your library.</p>\n        <div class=\"btn-list-search\">\n        <a  href=\"./catalogue.html\" class=\"btn btn-filled\">\n        Search movie\n        </a>\n        </div>\n      `;\n  refs.libraryOppsText.classList.add('library-ops-text-css');\n}\n"],"names":["parcelRequire","$6xLQz","$164d6b9b3e69aac3$var$refs","libraryMovieList","document","querySelector","libraryOppsText","$164d6b9b3e69aac3$var$filmsInLibrary","JSON","parse","localStorage","getItem","$164d6b9b3e69aac3$var$libraryOppsTextRender","innerHTML","classList","add","length","map","param","genre_ids","id","poster_path","release_date","title","vote_average","year","slice","posterPath","concat","ratingStarsMurkup","generateRatingStarsMarkup","genres","$4cCwH","getGenresByGenresId","join","insertAdjacentHTML","setGenresToSS","querySelectorAll","forEach","i"],"version":3,"file":"library.e51e4069.js.map"}